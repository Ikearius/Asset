(self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[]).push([[838],{97653:(e,t,a)=>{"use strict";a.r(t),a.d(t,{loadInterface:()=>Ae});var o=a(84303),s=a(17431),r=a(64737),n=a(736),d=a(66223),i=a(87202),c=a(76463),l=a(69626),m=a(27687),u=a(89683),g=a(84561),h=a(3248),p=a(8150),M=a(31278),w=a(49924),C=a(90454),D=a(76896),k=a(2725),f=a(98649),y=a(41663),b=a(34986),T=a(90756),S=a(46610),v=a(60225),F=a(58014),E=a(36123),P=a(29422),O=a(48470),R=a(40554),L=a(42835),A=a(61709),U=a(17386);class SettingGetCommand extends U.m{constructor(e){super(),this.payload={key:e}}}SettingGetCommand.id="SETTING_GET";class SettingUpdateCommand extends U.m{constructor(e,t){super(),this.payload={key:e,value:t}}}SettingUpdateCommand.id="SETTING_UPDATE";var B=a(16101),I=a(35026),Z=a(29397),x=a(85895),G=a(92532),V=a(79553),z=a(91302),_=a(87068),N=a(12216),j=a(94329),H=a(3805),Y=a(68576),q=a(88814),W=a(21479),X=a(59088),K=a(40168),J=a(26627),$=a(27326),Q=a(74371),ee=a(40698),te=a(58626),ae=a(60725),oe=a(38003),se=a(8445),re=a(44019),ne=a(86488),de=a(33874),ie=a(75892),ce=a(65379),le=a(69941),me=a(35597),ue=a(15982),ge=a(21499),he=a(36822),pe=a(13988),Me=a(14880),we=a(86122),Ce=a(92895),De=a(87738),ke=a(44218),fe=a(29539),ye=a(32306),be=a(1466),Te=a(13827),Se=a(88269),ve=a(3198),Fe=a(9576),Ee=a(55105),Pe=a(24930),Oe=a(31657),Re=a(2212),Le=a(67027);async function Ae(e,t,a){const o=await async function(){return"./sdk/sdk-interface.js"}(),d=new r.M;let i;try{i=await d.load(o)}catch(e){throw Error("Unable to fetch the sdk interface. The sdk will be disabled. "+e)}const l={THREE:Re},m={MpSdkAuthentication:u.w,RenderLayers:g.o,OptionsKey:h.gx,Application:W.Mx,AppPhase:W.nh,AppPhaseChangeMessage:p.LZ,CameraTransitionType:M.n,GetFloorIntersectCommand:w.Z,StartMoveToFloorMessage:C.S,EndMoveToFloorMessage:D.P,MoveToFloorIndexCommand:k.h9,ShowAllFloorsCommand:k.EU,MattertagMediaType:f.L,RemoveMattertagCommand:y.Gn,TagDescriptionChunkType:b.z,TagLinkType:T.U,AddMattertagCommand:y.Fz,EditMattertagCommand:y.Ek,MattertagLinkOpenedMessage:S.Ik,NavigateToMattertagCommand:v.Y,ModelDataLoadedMessage:F.Z,ModelColliderTarget:E.S,NavigateToSweepCommand:P.ju,MeasuringPhase:ae.au,SettingGetCommand:SettingGetCommand,SettingUpdateCommand:SettingUpdateCommand,PuckCollider:B.YY,PinClickedMessage:O.F7,PinHoverChangeMessage:O.tP,PinHeadMesh:R.$,InstancedPinHeads:A.z,PinType:L.Er,SweepAlignmentType:I.z9,SweepPlacementType:I.hU,BeginMoveToSweepMessage:Z.Z,EndMoveToSweepMessage:x.Z,ToggleToolCommand:G.tT,Tools:V.w1,TourStartedMessage:z.oR,TourStoppedMessage:z.NR,TourEndedMessage:z.Mt,TourSteppedMessage:z.Vx,Color:_.I,Vectors:N.f,Viewmode:j.Ey,CommandViewmode:H.BD,ChangeViewmodeCommand:H._i,BeginSwitchViewmodeMessage:Y.Z,EndSwitchViewmodeMessage:q.Z,GetScreenPositionCommand:ue.b,ZoomInCommand:ge.bj,ZoomResetCommand:ge.ob,ZoomSetCommand:ge.ts,SourceType:Te.SourceType,sensorVolumes:{sphere:Se.b,box:ve.k,cylinder:Fe.X}},U=Ue(t),be=function(e){const t=(async()=>{const t=(await e.getModule(ke.default)).getSignedUrls();return new c.Z(t)})();return{applicationData:e.market.waitForData(W.pu),cameraData:e.market.waitForData(X.M_),canvasData:e.market.waitForData(K.W),floorData:e.market.waitForData(J.i),floorViewData:e.market.waitForData($.c),labelData:e.market.waitForData(Q.D),mattertagData:e.market.waitForData(ee.n),mattertagViewData:e.market.waitForData(te.P5),measurementModeData:e.market.waitForData(oe.X),modelData:e.market.waitForData(se.T),raycasterData:e.market.waitForData(re.P),roomData:e.market.waitForData(ne.Z),settingsData:e.market.waitForData(de.e),sweepData:e.market.waitForData(ie.Z),sweepViewData:e.market.waitForData(ce.D),tourData:e.market.waitForData(le.k3),viewmodeData:e.market.waitForData(me.O),appPhaseModule:e.getModule(he.default),commonControlsModule:e.getModule(pe.default),floorCasterModule:e.getModule(Me.default),mattertagDataModule:e.getModule(we.default),mattertagMeshModule:e.getModule(Ce.default),mattertagViewDataModule:e.getModule(De.default),modelDataModule:e.getModule(ke.default),modelMeshModule:e.getModuleBySymbol(n.y.MODEL_MESH),meshData:e.market.waitForData(Le._),navigationModule:e.getModule(fe.default),renderToTextureModule:e.getModule(ye.default),sceneModule:e.getModuleBySymbol(n.y.SCENE),sensorModule:e.getModule(Ee.K),settingsModule:e.getModule(Pe.default),tourControlsModule:e.getModuleBySymbol(n.y.TOUR_CONTROLS),webglRendererModule:e.getModuleBySymbol(n.y.WEBGL_RENDERER),zoomControlModule:e.getModule(Oe.default),sweepTextureLoader:t}}(t),Ae=new URLSearchParams(window.location.search).get("useLegacyIds"),Be=null===Ae||parseInt(Ae,10)?s.w.LEGACY:s.w.API;i.setup(e,l,m,U,be,{idOption:Be})}function Ue(e){return{loadImage:d.p,waitForUpdate:()=>e.after(o.A.End),subscribe:(t,a)=>e.subscribe(t,a),addBinding:(t,a)=>e.commandBinder.addBinding(t,a),issueCommand:t=>e.commandBinder.issueCommand(t),requestTarget:()=>e.commandBinder.issueCommand(new i.oM),getRenderLayer:t=>e.getRenderLayer(t),jpegAsBase64:be.jJ,encodeRenderTarget:be.vP,getXmp:be.fY,getOrientedAngleTo:l.k2,screenPositionToNDC:m.z5,ndcToWorldPosition:m.st,worldToScreenPosition:m.q9}}},90121:(e,t,a)=>{"use strict";a.d(t,{F:()=>DependencyFetcher});class DependencyFetcher{constructor(...e){this.dependencies=e}async getDependencies(){return Promise.all(this.dependencies)}static extend(e,...t){return new DependencyFetcher(...e.dependencies,...t)}static combine(e,t){return new DependencyFetcher(...e.dependencies,...t.dependencies)}}},79741:(e,t,a)=>{"use strict";a.d(t,{o:()=>SdkCollection});class SdkCollection{constructor(e,t,a){this.dependencies=e,this.subscriptionFactory=t,this.observers=new Set,this.currentData=a.create(),this.freshData=a.create()}static async create(e,t,a){const o=await e.getDependencies();return new SdkCollection(o,t,a)}getData(){return this.currentData.data}observe(e){return this.addObserver(e),new class ObserverSubscription{constructor(e){this.sdkCollection=e,this.renew()}renew(){this.sdkCollection.addObserver(e)}cancel(){this.sdkCollection.removeObserver(e)}}(this)}addObserver(e){class CollectionChangeObserver{constructor(e){this.sdkCollection=e}onChanged(){const{freshData:e,currentData:t,dependencies:a}=this.sdkCollection;e.update(...a);let o=!1;for(const a in e.data)if(t.data.hasOwnProperty(a)){if(!t.isItemEqual(e,a))for(const t of this.sdkCollection.observers)t.onUpdated(a,e.data[a]),o=!0}else for(const t of this.sdkCollection.observers)t.onAdded(a,e.data[a]),o=!0;for(const a in t.data)if(!e.data.hasOwnProperty(a))for(const e of this.sdkCollection.observers)e.onRemoved(a),o=!0;if(o)for(const e of this.sdkCollection.observers)e.onCollectionUpdated();const s=t;this.sdkCollection.currentData=this.sdkCollection.freshData,this.sdkCollection.freshData=s}}if(!this.observers.has(e))if(this.observers.add(e),1===this.observers.size){const e=new CollectionChangeObserver(this);this.changeSubscription=this.subscriptionFactory.create(e,...this.dependencies),e.onChanged()}else for(const t in this.currentData.data)e.onAdded(t,this.currentData.data[t])}removeObserver(e){0!==this.observers.size&&(this.observers.delete(e),0===this.observers.size&&(this.changeSubscription.cancel(),this.currentData.clear()))}}},79985:(e,t,a)=>{"use strict";function o(e,t){!function(e,t){e.x=t.x,e.y=t.y}(e,t),e.z=t.z}a.d(t,{OL:()=>o})},54430:(e,t,a)=>{"use strict";a.d(t,{h:()=>ClassFactory});class ClassFactory{constructor(e,...t){this.ctor=e,this.args=t}create(){return new this.ctor(...this.args)}}}}]);